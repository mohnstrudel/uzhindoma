// Place all the behaviors and hooks related to the matching controller here.
// All this logic will automatically be available in application.js.
// You can use CoffeeScript in this file: http://coffeescript.org/

//= require jquery3
//= require jquery.turbolinks
//= require jquery_ujs
//= require jquery-ui/core

//= require_tree ../../../vendor/assets/javascripts/front/additional/.
//= require_tree ../../../vendor/assets/javascripts/front/theme/.
//= require_tree ../../../vendor/assets/javascripts/front/custom/.


//= require_self
//= require_tree ../../../app/assets/javascripts/front/.


//= require turbolinks



// Change logo on scroll

$(function() { 
	var logo = $(".logo-large"); 
	
	var image = logo.find('img');
	var image_src = image.attr('src');
	// console.log(image_src);

	$(window).scroll(function() {
		var scroll = $(window).scrollTop();

	    if (scroll >= 10) {
	      if(!logo.hasClass("logo-small")) {
	        logo.hide();
	        image.attr('src',"<%= image_url('custom_images/logo_text_only.png') %>");
	        logo.removeClass('logo-large').addClass("logo-small").addClass("ud-minus-10-mt").fadeIn( "slow");
	      }
	    } else {
	      if(!logo.hasClass("logo-large")) {
	        logo.hide();
	        image.attr('src',"<%= image_url('custom_images/logo_full_v2.png') %>");
	        logo.removeClass("logo-small").addClass('logo-large').removeClass("ud-minus-10-mt").fadeIn( "slow");
	      }
	    }

	});
});

// End change logo on scroll


$(document).ready(function(){
	$("ul").on("click", "li", function(){
		console.log($(this)['context'].innerHTML);
		$.ajax({
			type: "GET",
			url: "/dinner",
			success: function (result){
				console.log($(result).find("#uzhin_price"));
			}

		});
	});	

    var $banner_image = $(".ud_banner_image");
    var $downloadingImage = $("<img>");
	$downloadingImage.load(function(){
  		$banner_image.attr("src", $(this).attr("src"));	
	});
	$downloadingImage.attr("src", "<%= image_url('backgrounds/slider-2-hd.jpg') %>");

		// Create a phone mask


	// Prevent submitting empty order form
	$('#new_order').submit(function() {
    	if ($.trim($("#order_phone").val()) === "" || $.trim($("#order_name").val()) === "") {
        	// alert('you did not fill out one of the fields');
        	return false;
    	}
	});

	


	
});


